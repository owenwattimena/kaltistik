<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="asset/bootstrap_4/css/bootstrap.min.css">
    <link rel="stylesheet" href="asset/style.css">
    <link rel="stylesheet" href="asset/fontawesome-free-5.7.1-web/css/all.css">

    <title>Aplikasi Statistik | Owen Wattimena</title>


    <!-- <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'
        async></script>

</head>

<body>
    <div class="body">
        <div class="side-nav text-center">

            <div class="side-nav-header py-4">
                <button id="hide-menu">
                    <span class="side-nav-toggler-icon"></span>
                </button>
                <img src="asset/img/statistik.png">
                <h3 class="mt-3 font-primary-dark"><a href="index.html">Statistik</a></h3>
            </div>
            <div class="side-nav-content pt-3 text-light">

                <p>Materi</p>
                <div class="separator"></div>

                <div class="list-group">

                    <a href="rata-rata-hitung.html" class="list-group-item list-group-item-action ">
                        Rata-rata Hitung
                    </a>
                    <a href="penyajian-tabel-distribusi-frekuensi.html" class="list-group-item list-group-item-action">
                        Penyajian Tabel Distribusi Frekuensi
                    </a>
                    <a href="median.html" class="list-group-item list-group-item-action">
                        Median
                    </a>
                    <a href="modus.html" class="list-group-item list-group-item-action active">
                        Modus
                    </a>
                    <a href="disversi.html" class="list-group-item list-group-item-action">
                        Disversi
                    </a>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="top-nav px-2">
                <button id="show-menu">
                    <span class="top-nav-toggler-icon"></span>
                </button>
                <!-- title -->
                <h3 class="font-primary">Modus</h3>
            </div>

            <div class="container p-3">
                <!-- <h1>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</h1> -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#dataTabBerkelompok" aria-expanded="false"
                                            aria-controls="dataTabBerkelompok">
                                            Data Tidak Berkelompok
                                        </button>
                                    </h5>
                                </div>

                                <div id="dataTabBerkelompok" class="collapse" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <form>
                                            <div class="form-group">
                                                <label for="exampleFormControlTextarea1">Masukan Data</label>
                                                <textarea class="form-control input-data"
                                                    id="exampleFormControlTextarea1" rows="5"
                                                    placeholder="Contoh: 1,2,3,4,5.6 (tanpa spasi)"></textarea>
                                            </div>
                                        </form>
                                        <button class="btn btn-primary btn-tak-berkelompok btn-hasil">Hasil</button>
                                        <div class="jawaban-tak-berkelompok d-none">
                                            <hr>
                                            <div class="alert alert-tak-berkelompok alert-danger d-none" role="alert">
                                            </div>
                                            <div class="jawaban-benar-tak-berkelompok text-center d-none">
                                                <table class="table tabel-tak-berkelompok table-bordered text-center">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">X</th>
                                                            <th scope="col" class="align-middle">f</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="d-none">
                                                            <td></td>
                                                            <td></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#dataBerkelompok" aria-expanded="false"
                                            aria-controls="dataBerkelompok">
                                            Data Berkelompok
                                        </button>
                                    </h5>
                                </div>

                                <!-- data berkelompok -->
                                <div id="dataBerkelompok" class="collapse" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <table class="table tabel-berkelompok table-bordered text-center">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">X</th>
                                                    <th scope="col" rowspan="2" class="align-middle">f</th>
                                                    <th scope="col" rowspan="2" class="align-middle">
                                                        <button class="btn btn-success btn-sm btn-add-row">
                                                            <i class="fa fa-plus"></i>
                                                        </button>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th>BB</th>
                                                    <th>BA</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="tr">
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td>
                                                        <i class="fa fa-times-circle x-row"></i>
                                                    </td>
                                                </tr>

                                                <tr class="d-none">
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td>
                                                        <i class="fa fa-times-circle x-row"></i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary btn-berkelompok">Hasil</button>
                                        <div class="jawaban-berkelompok d-none">
                                            <hr>
                                            <div class="alert alert-berkelompok alert-danger d-none" role="alert"></div>
                                            <div class="jawaban-benar-berkelompok text-center d-none">
                                                <p class="border border-primary p-2">
                                                    Mod = L<sub>0</sub> + C ((f<sub>1</sub>)<sub>0</sub>) /
                                                    (f<sub>1</sub>)<sub>0</sub> + (f<sub>2</sub>)<sub>0</sub>)
                                                </p>
                                                <p>
                                                    L<sub>0</sub> = <span class="batas_bawah">BB</span> - 0.5 = <span
                                                        class="L_nol">L0</span>
                                                </p>
                                                <p>
                                                    C = <span class="tepi_atas_kelas">TAK</span> - <span
                                                        class="tepi_bawah_kelas">TBK</span> =
                                                    <span class="C">C</span>
                                                </p>
                                                <p>
                                                    (f<sub>1</sub>)<sub>0</sub> = <span class="f_mod">fm</span> - <span
                                                        class="fi_bawah_mod">0</span> = <span
                                                        class="f_satu_nol">F10</span>
                                                </p>
                                                <p>
                                                    (f<sub>2</sub>)<sub>0</sub> = <span class="f_mod">fm</span> - <span
                                                        class="fi_atas_mod">0</span> = <span
                                                        class="f_dua_nol">F20</span>
                                                </p>

                                                <p>
                                                    Mod = <span class="L_nol">l0</span> + <span class="C">C</span>
                                                    (<span class="f_satu_nol">f10</span> /
                                                    (<span class="f_satu_nol">f10</span> + <span
                                                        class="f_dua_nol">f20</span>)
                                                </p>
                                                <p>
                                                    <span class="L_nol">l0</span> + <span class="C">C</span> (<span
                                                        class="f_satu_nol">f10</span> /
                                                    <span class="f_satu_dua_nol">f120</span>)
                                                </p>
                                                <p>
                                                    <span class="L_nol">l0</span> + <span class="C">C</span>
                                                    (<span class="f_satu_nol_per_f_satu_dua_nol">f1/f120</span>)
                                                </p>
                                                <p>
                                                    <span class="L_nol">l0</span> + <span
                                                        class="C_f_satu_nol_per_f_satu_dua_nol">Cf1/f120</span>
                                                </p>
                                                <p class="font-weight-bold">
                                                    Modus = <span class="MOD">Mod</span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer>
                    <p class="text-center">Copy Right By Wentox</p>
                </footer>
            </div>
        </div>





        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="asset/jquery/jquery-3.3.1.js"></script>
        <script src="asset/bootstrap_4/js/popper.min.js"></script>
        <script src="asset/bootstrap_4/js/bootstrap.min.js"></script>
        <script src="asset/script.js"></script>
        <script src="asset/function_rumus.js"></script>
        <script>
            /**
            * RUMUS MEDIAN
            *
            *
            */

            // aksi data tak berkelompok
            $('.btn-tak-berkelompok').click(function () {
                $('.tabel-tak-berkelompok .tr').remove();
                $('.jawaban-tak-berkelompok').removeClass('d-none');
                let $data = $('.input-data').val(); //mengambil data inputan
                $data = $data.trim();

                if (!is_data($data)) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text('Mohon masukan data!!!');
                    return;
                }
                $data = explode($data, ',');
                let $banyak_data = $data.length;
                if ($banyak_data <= 1) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text('Harap masukan lebih dari satu data!!!');
                    return;
                }
                let $data_valid = data_valid($data);
                if ($data_valid['error']) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text($data_valid['mesage']);
                    return;
                }
                $data = $data.sort(function (a, b) { return a - b });
                let $data_x_tersaring = new Array();
                let $data_f_tersaring = new Array();
                for (let i = 0; i < $banyak_data; i++) {
                    if ($data_x_tersaring.indexOf($data[i]) === -1) {
                        let $index = $data_x_tersaring.length;
                        let $frek_i = 0;
                        for (let j = 0; j < $banyak_data; j++) {
                            if ($data[i] == $data[j]) {
                                $frek_i++;
                            }
                        }
                        $data_x_tersaring[$index] = $data[i];
                        $data_f_tersaring[$index] = $frek_i;
                    }
                }

                let $mod = Math.max.apply(Math, $data_f_tersaring);

                for (let i = 0; i < $data_x_tersaring.length; i++) {
                    tambah_baris($('.tabel-tak-berkelompok'));
                }

                $('.tabel-tak-berkelompok').find('.tr').each(function (i, e) {
                    let $td = $(this).find('td');
                    $td.eq(0).text($data_x_tersaring[i]); //data X 
                    $td.eq(1).text($data_f_tersaring[i]); //data f
                    if ($data_f_tersaring[i] == $mod) {
                        $(this).addClass('alert-success')
                    }
                });

                $('.jawaban-benar-tak-berkelompok').removeClass('d-none');
                $('.alert-tak-berkelompok').addClass('d-none');

            });

            // tambah baris
            $('.btn-add-row').click(function () {
                tambah_baris($('.tabel-berkelompok'));
            });

            // hapus baris
            $('tr .x-row').on('click', function () {
                let tr = $(this);
                hapus_baris(tr);
            });



            // aksi data berkelompok

            $('.btn-berkelompok').click(function () {
                $('.jawaban-berkelompok').removeClass('d-none');

                $('.tr').removeClass('alert-success');
                // cek kelayakan data dan ambil data frekuensi
                let $f = new Array();
                let $n = 0; // Nilai n
                let $bool_baris = false;
                let $bool_angka = true;


                $('.tabel-berkelompok').find('tbody .tr').each(function (i, e) {
                    $bool_baris = true;
                    let $td = $(this).find('td');
                    let $batas_bawah = $td.eq(0).text();
                    let $batas_atas = $td.eq(1).text();
                    let $frekuensi_i = $td.eq(2).text();

                    $batas_bawah = $batas_bawah.trim();
                    $batas_atas = $batas_atas.trim();
                    $frekuensi_i = $frekuensi_i.trim();

                    if ($batas_bawah == "" || $batas_atas == "" || $frekuensi_i == "") {
                        $bool_angka = false;
                        return;
                    }

                    if (!$batas_bawah.match($number) || !$batas_atas.match($number) || !$frekuensi_i.match($number)) {
                        $bool_angka = false;
                        return;
                    }

                    $frekuensi_i = parseFloat($frekuensi_i);

                    $f[i] = $frekuensi_i;
                    $n = $n + $frekuensi_i;
                });




                if (!$bool_baris) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Silahkan tambah data');
                    return;
                }
                if (!$bool_angka) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Mohon masukan data dengan benar! Data tidak boleh kosong dan harus berupa angka!!!');
                    return;
                }
                if ($f.length <= 1) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Mohon masukan lebih dari 1 data!!!');
                    return;
                }


                // let $indexFm = 0; //nilai index row dari kelas yang ada mediannya 
                // let $sig_fi_nol = $f[0];
                // for (let i = 0; i < $f.length; i++) {
                //     if ($sig_fi_nol >= $K) {
                //         $indexFm = i;
                //         $sig_fi_nol = $sig_fi_nol - $f[i];
                //         break;
                //     }
                //     else {
                //         $sig_fi_nol = $sig_fi_nol + $f[i + 1];
                //     }
                // }

                let $f_modus = Math.max.apply(Math, $f);
                let $index_f_modus = $f.indexOf($f_modus);
                let $frekuensi_i_bawah_mod = 0, $frekuensi_i_atas_mod = 0, $batas_bawah_mod = 0, $batas_atas_mod = 0;

                $('.tabel-berkelompok').find('tbody .tr').each(function (i) {
                    let $td = $(this).find('td');
                    if ($index_f_modus - 1 == i) {
                        $frekuensi_i_bawah_mod = parseFloat($td.eq(2).text());
                    }
                    if ($index_f_modus == i) {
                        $batas_bawah_mod = parseFloat($td.eq(0).text());
                        $batas_atas_mod = parseFloat($td.eq(1).text());
                        $(this).addClass('alert-success');
                    }
                    if ($index_f_modus + 1 == i) {
                        $frekuensi_i_atas_mod = parseFloat($td.eq(2).text());
                    }
                });
                // console.log($frekuensi_i_atas_mod);
                // return;

                // let $batas_bawah;
                // let $batas_atas
                // // let $tepi_bawah_kelas = 0;
                // // let $tepi_atas_kelas = 0;
                // let $fm = 0; //Frekuensi yang ada mediannnya
                // $('.table').find('tbody .tr').each(function (i, e) {
                //     if (i == $indexFm) {
                //         let $td = $(this).find('td');
                //         $batas_bawah = $td.eq(0).text();
                //         $batas_atas = $td.eq(1).text();
                //         let $frekuensi_i = $td.eq(2).text();

                //         $batas_bawah = parseFloat($batas_bawah.trim());
                //         $batas_atas = parseFloat($batas_atas.trim());
                //         $frekuensi_i = parseFloat($frekuensi_i.trim());
                //         $fm = $frekuensi_i;
                //         $(this).addClass('alert-success');
                //     }
                // });

                let $L_nol = $batas_bawah_mod - 0.5;
                let $tepi_bawah_kelas = $L_nol;
                let $tepi_atas_kelas = $batas_atas_mod + 0.5;
                let $C = $tepi_atas_kelas - $tepi_bawah_kelas; //nilai C
                let $f_satu_nol = $f_modus - $frekuensi_i_bawah_mod;
                let $f_dua_nol = $f_modus - $frekuensi_i_atas_mod;
                let $f_satu_dua_nol = $f_satu_nol + $f_dua_nol;
                let $f_satu_nol_per_f_satu_dua_nol = $f_satu_nol / $f_satu_dua_nol;
                let $C_f_satu_nol_per_f_satu_dua_nol = $C * $f_satu_nol_per_f_satu_dua_nol;
                let $MOD = $L_nol + $C_f_satu_nol_per_f_satu_dua_nol; //nilai dari L0 - ((C * (f10 / (f1o+f20)

                $('.batas_bawah').text($batas_bawah_mod);
                $('.L_nol').text($L_nol);
                $('.tepi_atas_kelas').text($tepi_atas_kelas);
                $('.tepi_bawah_kelas').text($tepi_bawah_kelas);
                $('.C').text($C);
                $('.f_mod').text($f_modus);
                $('.fi_bawah_mod').text($frekuensi_i_bawah_mod);
                $('.fi_atas_mod').text($frekuensi_i_atas_mod);
                $('.f_satu_nol').text($f_satu_nol);
                $('.f_dua_nol').text($f_dua_nol);
                $('.f_satu_dua_nol').text($f_satu_dua_nol);
                $('.f_satu_nol_per_f_satu_dua_nol').text($f_satu_nol_per_f_satu_dua_nol);
                $('.C_f_satu_nol_per_f_satu_dua_nol').text($C_f_satu_nol_per_f_satu_dua_nol);
                $('.MOD').text($MOD);

                $('.jawaban-benar-berkelompok').removeClass('d-none');
                $('.alert-berkelompok').addClass('d-none');

            });
            // let array = [
            //     [
            //         1, 2
            //     ],
            //     [
            //         3, 4
            //     ]
            // ];

            /*
            *Math.max.apply(Math,a);
            */
        </script>
</body>

</html>


<!-- 
    1,2,2,3,3,3,4,4,4,4,5,5,5,5,5
    
    80,66,74,70,71,74,71,73,72,75,71,70,74,79,76,67,66,69,74,75,72,75,72,72,78,74,72,74,80,74,77,75,73,73,73,79,78,74,70,68
    
    
    
    79,49,48,74,81,98,87,80,
    80,84,90,70,91,93,82,78,
    70,71,92,38,56,81,74,73,
    68,72,85,51,65,93,83,86,
    90,35,83,73,74,43,86,88,
    92,93,76,71,90,72,67,75,
    80,91,61,72,97,91,88,81,
    70,74,99,95,80,59,71,77,
    63,60,83,82,60,67,89,63,
    76,63,88,70,66,88,79,75
    
    
    146,147,147,148,149,156,157,161,163,164,119,125,128,132,135,138,140,142,142,144
    
    146,147,147,148,149,150,150,152,153,154,
    156,157,158,161,163,164,165,168,173,176,
    119,125,126,128,132,135,135,135,136,138,
    138,140,140,142,142,144,144,145,145,146
    
    146,147,147,148,149,150,150,152,153,154,156,157,158,161,163,164,165,168,173,176,119,125,126,128,132,135,135,135,136,138,138,140,140,142,142,144,144,145,145,146
-->