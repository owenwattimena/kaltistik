<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="asset/bootstrap_4/css/bootstrap.min.css">
    <link rel="stylesheet" href="asset/style.css">
    <link rel="stylesheet" href="asset/fontawesome-free-5.7.1-web/css/all.css">
    
    <title>Aplikasi Statistik | Owen Wattimena</title>
</head>

<body>
    <div class="body">
        
        <div class="side-nav text-center">
            <div class="side-nav-header py-4">
                <button id="hide-menu">
                    <span class="side-nav-toggler-icon"></span>
                </button>
                <img src="asset/img/statistik.png">
                <h3 class="mt-3 font-primary-dark"><a href="index.html">KalTistik</a></h3>
            </div>
            <div class="side-nav-content pt-3 text-light">
                
                <p>Materi</p>
                <div class="separator"></div>
                <div class="list-group">
                    <a href="rata-rata-hitung.html" class="list-group-item list-group-item-action active">
                        Rata-rata Hitung
                    </a>
                    <a href="penyajian-tabel-distribusi-frekuensi.html" class="list-group-item list-group-item-action">
                        Penyajian Tabel Distribusi Frekuensi
                    </a>
                    <a href="median.html" class="list-group-item list-group-item-action">
                        Median
                    </a>
                    <a href="modus.html" class="list-group-item list-group-item-action">
                        Modus
                    </a>
                    <a href="disversi.html" class="list-group-item list-group-item-action">
                        Disversi
                    </a>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="top-nav px-2">
                <button id="show-menu">
                    <span class="top-nav-toggler-icon"></span>
                </button>
                <h3 class="font-primary">Rata-rata Hitung</h3>
            </div>
            <div class="container p-3">
                <div class="row">
                    <!-- rerata hitung data parameter -->
                    <div class="col-md-6">
                        
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingThree">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                        data-target="#rerata-sebenarnya" aria-expanded="false"
                                        aria-controls="rerata-sebenarnya">
                                        Rata-rata Sebenarnya (Parameter)
                                    </button>
                                </h5>
                            </div>
                            <div id="rerata-sebenarnya" class="collapse" aria-labelledby="headingThree"
                            data-parent="#accordionExample">
                            <div class="card-body data-parameter">
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">Data</span>
                                    </div>
                                    <input type="text" class="input-data-parameter form-control"
                                    placeholder="Contoh : 1,2,3,4,5,6.5 (tanpa spasi)">
                                </div>
                                <button class="btn btn-primary btn-parameter">Hasil</button>
                                <div class="jawaban-parameter text-center d-none">
                                    <hr>
                                    <div class="alert parameter-alert alert-danger d-none" role="alert"></div>
                                    <div class="parameter-jawaban-benar d-none">
                                        <div>
                                            &mu; = 1 . (<span class="sig-x-parameter"></span>) / <span
                                            class="N"></span>
                                        </div>
                                        
                                        <div class="text-left font-weight-bold hasil-parameter"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            <!-- rerata hitung data estimate -->
            <div class="col-md-6">
                
                <div class="accordion" id="accordionExample">
                    <div class="card">
                        <div class="card-header" id="headingThree">
                            <h5 class="mb-0">
                                <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                                data-target="#rerata-perkiraan" aria-expanded="false"
                                aria-controls="rerata-perkiraan">
                                Rata-rata Perkiraan (Estimasi)
                            </button>
                        </h5>
                    </div>
                    <div id="rerata-perkiraan" class="collapse" aria-labelledby="headingThree"
                    data-parent="#accordionExample">
                    <div class="card-body">
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">Data</span>
                            </div>
                            <input type="text" class="input-data-estimate form-control"
                            placeholder="Contoh : 1,2,3,4,5,6.5 (tanpa spasi)">
                        </div>
                        <button class="btn btn-primary btn-estimate">Hasil</button>
                        
                        <div class="jawaban-estimate text-center d-none">
                            <hr>
                            <div class="alert estimate-alert alert-danger d-none" role="alert">
                                inputan salah!!!
                            </div>
                            <div class="estimate-jawaban-benar d-none">
                                <div>
                                    x&#772; = 1 . (<span class="sig-x-estimate"></span>) / <span
                                    class="n"></span>
                                </div>
                                
                                <div class="text-left font-weight-bold hasil-estimate"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <!-- rerata hitung data berkelompok -->
    <div class="col-md-6">
        
        <div class="accordion" id="accordionExample">
            <div class="card">
                <div class="card-header" id="headingThree">
                    <h5 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                        data-target="#rerata-berkelompok" aria-expanded="false"
                        aria-controls="rerata-berkelompok">
                        Rata-rata Data Berkelompok
                    </button>
                </h5>
            </div>
            <div id="rerata-berkelompok" class="collapse" aria-labelledby="headingThree"
            data-parent="#accordionExample">
            <div class="card-body">
                <table id="table" class="table table-bordered text-center">
                    <thead>
                        <tr>
                            <th scope="col">X</th>
                            <th scope="col">f</th>
                            <th scope="col">
                                <button class="btn btn-success btn-sm btn-table-add">
                                    <i class="fa fa-plus"></i>
                                </button>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="tr">
                            <td contenteditable="true"></td>
                            <td contenteditable="true"></td>
                            <td>
                                <i class="fa fa-times-circle x-row"></i>
                            </td>
                        </tr>
                        
                        <tr class="d-none">
                            <td contenteditable="true"></td>
                            <td contenteditable="true"></td>
                            <td>
                                <i class="fa fa-times-circle x-row"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-primary btn-rerata-berkelompok">Hasil</button>
                
                <div class="jawaban-berkelompok text-center d-none">
                    <hr>
                    <div class="alert berkelompok-alert alert-danger d-none" role="alert">
                    </div>
                    <div class="berkelompok-jawaban-benar d-none">
                        <div>
                            x&#772; = 1 . (<span class="sig-fx"></span>) / <span
                            class="n"></span>
                        </div>
                        <div class="text-left font-weight-bold hasil-berkelompok"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!-- rerata hitung data berkelompok (Kelas Interval) -->
<div class="col-md-6">
    <div class="accordion" id="accordionExample">
        <div class="card">
            <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                    <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                    data-target="#rerata-berkelompok-interval" aria-expanded="false"
                    aria-controls="rerata-berkelompok-interval">
                    Rata-rata Data Berkelompok <small>(Kelas Interval)</small>
                </button>
            </h5>
        </div>
        <div id="rerata-berkelompok-interval" class="collapse" aria-labelledby="headingThree"
        data-parent="#accordionExample">
        <div class="card-body">
            <table id="table-interval" class="table table-bordered text-center">
                <thead>
                    <tr>
                        <th scope="col" colspan="2">X</th>
                        <th scope="col" rowspan="2" class="align-middle">f</th>
                        <th scope="col" rowspan="2" class="align-middle">
                            <button class="btn btn-success btn-sm btn-table-interval-add">
                                <i class="fa fa-plus"></i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <th>BB</th>
                        <th>BA</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="tr">
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td>
                            <i class="fa fa-times-circle x-row-interval"></i>
                        </td>
                    </tr>
                    
                    <tr class="d-none">
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td>
                            <i class="fa fa-times-circle x-row-interval"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-primary btn-rerata-berkelompok-interval">Hasil</button>
            
            <div class="jawaban-berkelompok-interval text-center d-none">
                <hr>
                <div class="alert berkelompok-interval-alert alert-danger d-none"
                role="alert">
            </div>
            
            <div class="berkelompok-interval-jawaban-benar d-none">
                <table id="table-mf-interval" class="table table-bordered text-center">
                    <thead>
                        <tr>
                            <th scope="col">M</th>
                            <th scope="col">f</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-none">
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    x&#772; = 1 . (<span class="sig-f-interval"></span>) / <span
                    class="n"></span>
                </div>
                
                <div class="text-left font-weight-bold hasil-berkelompok-interval">
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>

</div>
</div>
<footer>
    <p class="text-center">Copy Right By Wentox</p>
</footer>
</div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="asset/jquery/jquery-3.3.1.js"></script>
<script src="asset/bootstrap_4/js/popper.min.js"></script>
<script src="asset/bootstrap_4/js/bootstrap.min.js"></script>
<script src="asset/script.js"></script>
<script src="asset/function_rumus.js"></script>
<script>
    
    /**
    * RUMUS MENCARI RATA-RATA HITUNG
    *
    *
    */
    
    // rerata parameter
    $('.btn-parameter').click(function () {
        rata_rata_hitung('.input-data-parameter', '.parameter-alert', '.sig-x-parameter', '.N', '.hasil-parameter', '.jawaban-parameter', '.parameter-jawaban-benar', '&mu;');
    })
    
    // rerata estimate
    $('.btn-estimate').click(function () {
        rata_rata_hitung('.input-data-estimate', '.estimate-alert', '.sig-x-estimate', '.n', '.hasil-estimate', '.jawaban-estimate', '.estimate-jawaban-benar', 'x&#772;');
    })
    
    
    
    
    /*
    ****Rerata hitung data berkelompok
    */
    
    var $TABLE = $('#table');
    var $table_interval = $('#table-interval');
    
    // tambah baris
    $('.btn-table-add').click(function () {
        tambah_baris($TABLE);
    });
    // tambah baris kelas interval
    $('.btn-table-interval-add').click(function () {
        tambah_baris($table_interval);
    });
    
    // hapus baris
    $('tr .x-row').on('click', function () {
        let tr = $(this);
        hapus_baris(tr);
    });
    // hapus baris interval
    $('tr .x-row-interval').on('click', function () {
        let tr = $(this);
        hapus_baris(tr);
    });
    
    $('.btn-rerata-berkelompok').click(function () {
        $('.jawaban-berkelompok').removeClass('d-none');
        let $total = 0;
        let $n = 0;
        let $bool_angka = true;
        $TABLE.find('tbody .tr').each(function (i, e) {
            let $td = $(this).find('td');
            let $x = $td.eq(0).text();
            let $f = $td.eq(1).text();
            $x = $x.trim();
            $f = $f.trim();
            if ($x == "" || $f == "") {
                $bool_angka = false;
                return;
            }
            else {
                if (!$x.match($number) || !$f.match($number)) {
                    $bool_angka = false;
                    return;
                } else {
                    
                    $total = $total + (parseFloat($x) * parseFloat($f));
                    $n = $n + parseFloat($f);
                }
            }
        });
        let $hasil = $total / $n;
        if (!isNaN($hasil)) {
            $('.jawaban-berkelompok').removeClass('d-none');
            $('.berkelompok-alert').addClass('d-none');
            $('.berkelompok-jawaban-benar').removeClass('d-none');
        }
        if (!$bool_angka) {
            $('.berkelompok-alert').removeClass('d-none');
            $('.berkelompok-jawaban-benar').addClass('d-none');
            $('.berkelompok-alert').text('Mohon masukan data dengan benar! Data tidak boleh kosong dan harus berupa angka!!!');
        }
        
        $('.sig-fx').text($total);
        $('.berkelompok-jawaban-benar .n').text($n);
        
        $('.hasil-berkelompok').html('Jawaban : x&#772; = ' + $hasil);
    });
    
    // Kelas Interval
    let $tabel_mf_interval = $('#table-mf-interval');
    $('.btn-rerata-berkelompok-interval').click(function () {
        $('#table-mf-interval .tr').remove();
        $('.jawaban-berkelompok-interval').removeClass('d-none');
        let $bool_baris = false;
        let $bool_angka = true;
        $table_interval.find('tbody .tr').each(function (i, e) {
            $bool_baris = true;
            let $td = $(this).find('td');
            
            let $bb = $td.eq(0).text();
            let $ba = $td.eq(1).text();
            let $f = $td.eq(2).text();
            
            $bb = $bb.trim();
            $ba = $ba.trim();
            $f = $f.trim();
            // console.log($f);
            if ($bb == "" || $ba == "" || $f == "") {
                $bool_angka = false;
                return;
            }
            
            if (!$bb.match($number) || !$ba.match($number) || !$f.match($number)) {
                
                $bool_angka = false;
                return;
            }
            
            $m = (parseFloat($bb) + parseFloat($ba)) / 2;
            tambah_baris($tabel_mf_interval);
            $td1 = $("#table-mf-interval tr:last").find('td');
            let $mi = $td1.eq(0).text($m);
            let $fi = $td1.eq(1).text($f);
            
            
            
        });
        
        if (!$bool_baris) {
            $('.berkelompok-interval-alert').removeClass('d-none');
            $('.berkelompok-interval-jawaban-benar').addClass('d-none');
            $('.berkelompok-interval-alert').text('Silahkan tambah data!!!');
        }
        
        
        
        let $total = 0;
        let $n = 0;
        $tabel_mf_interval.find('tbody .tr').each(function (i, e) {
            let $td_mf = $(this).find('td');
            let $m_j = $td_mf.eq(0).text(); //data M pada tabel jawaban M f
            let $f_j = $td_mf.eq(1).text(); //data f pada tabel jawaban M f
            $m_j = $m_j.trim();
            $f_j = $f_j.trim();
            
            $total = $total + (parseFloat($m_j) * parseFloat($f_j));
            $n = $n + parseFloat($f_j);
        });
        
        $hasil = $total / $n;
        
        if (!isNaN($hasil)) {
            $('.jawaban-berkelompok-interval').removeClass('d-none');
            $('.berkelompok-interval-alert').addClass('d-none');
            $('.berkelompok-interval-jawaban-benar').removeClass('d-none');
        }
        if (!$bool_angka) {
            $('.berkelompok-interval-alert').removeClass('d-none');
            $('.berkelompok-interval-jawaban-benar').addClass('d-none');
            $('.berkelompok-interval-alert').text('Mohon masukan data dengan benar! Data tidak boleh kosong dan harus berupa angka!!!');
        }
        
        $('.sig-f-interval').text($total);
        $('.berkelompok-interval-jawaban-benar .n').text($n);
        
        $('.hasil-berkelompok-interval').html('Jawaban : x&#772; = ' + $hasil);
    });
    // end of Kelas Interval
    /*
    **** end of Rerata hitung data berkelompok
    */
    
    
</script>
</body>

</html>