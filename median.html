<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="asset/bootstrap_4/css/bootstrap.min.css">
    <link rel="stylesheet" href="asset/style.css">
    <link rel="stylesheet" href="asset/fontawesome-free-5.7.1-web/css/all.css">

    <title>Aplikasi Statistik | Owen Wattimena</title>

</head>

<body>
    <div class="body">
        <div class="side-nav text-center">

            <div class="side-nav-header py-4">
                <button id="hide-menu">
                    <span class="side-nav-toggler-icon"></span>
                </button>
                <img src="asset/img/statistik.png">
                <h3 class="mt-3 font-primary-dark"><a href="index.html">KalTistik</a></h3>
            </div>
            <div class="side-nav-content pt-3 text-light">

                <p>Materi</p>
                <div class="separator"></div>

                <div class="list-group">

                    <a href="rata-rata-hitung.html" class="list-group-item list-group-item-action ">
                        Rata-rata Hitung
                    </a>
                    <a href="penyajian-tabel-distribusi-frekuensi.html" class="list-group-item list-group-item-action">
                        Penyajian Tabel Distribusi Frekuensi
                    </a>
                    <a href="median.html" class="list-group-item list-group-item-action active">
                        Median
                    </a>
                    <a href="modus.html" class="list-group-item list-group-item-action">
                        Modus
                    </a>
                    <a href="disversi.html" class="list-group-item list-group-item-action">
                        Disversi
                    </a>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="top-nav px-2">
                <button id="show-menu">
                    <span class="top-nav-toggler-icon"></span>
                </button>
                <!-- title -->
                <h3 class="font-primary">Median</h3>
            </div>

            <div class="container p-3">
                <!-- <h1>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</h1> -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#dataTabBerkelompok" aria-expanded="false"
                                            aria-controls="dataTabBerkelompok">
                                            Data Tidak Berkelompok
                                        </button>
                                    </h5>
                                </div>

                                <div id="dataTabBerkelompok" class="collapse" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <form>
                                            <div class="form-group">
                                                <label for="exampleFormControlTextarea1">Masukan Data</label>
                                                <textarea class="form-control input-data"
                                                    id="exampleFormControlTextarea1" rows="5"
                                                    placeholder="Contoh: 1,2,3,4,5.6 (tanpa spasi)"></textarea>
                                            </div>
                                        </form>
                                        <button class="btn btn-primary btn-tak-berkelompok btn-hasil">Hasil</button>
                                        <div class="jawaban-tak-berkelompok d-none">
                                            <hr>
                                            <div class="alert alert-tak-berkelompok alert-danger d-none" role="alert">
                                            </div>
                                            <div class="jawaban-benar-tak-berkelompok text-center d-none">
                                                <div class="card card-data mb-3">
                                                    <div class="card-header">
                                                        Data
                                                    </div>
                                                    <div class="card-body text-left data-distribusi-f">
                                                        <span class="data"></span>
                                                    </div>
                                                </div>
                                                <div class="ganjil">
                                                    <span>Data ganjil</span>
                                                    <p class="border border-primary p-2">
                                                        Median = X<sub>K+1</sub>
                                                    </p>
                                                    <p>
                                                        K = (n-1)/2
                                                    </p>
                                                    <p>
                                                        K = (<span class="n">0</span>-1)/2
                                                    </p>
                                                    <p class="font-weight-bold">
                                                        K = <span class="K">0</span>
                                                    </p>
                                                    <p>
                                                        Median = X<sub><span class="K">0</span>+1</sub>
                                                    </p>
                                                    <p class="font-weight-bold">
                                                        Med = X<sub><span class="med">0</span></sub> = <span
                                                            class="MED">0</span>
                                                    </p>
                                                </div>
                                                <div class="genap">
                                                    <span>Data genap</span>
                                                    <p class="border border-primary p-2">
                                                        Median = 1/2 (X<sub>K</sub> + X<sub>K+1</sub>)
                                                    </p>
                                                    <p>
                                                        K = n/2
                                                    </p>
                                                    <p>
                                                        K = <span class="n">0</span>/2
                                                    </p>
                                                    <p class="font-weight-bold">
                                                        K = <span class="K">0</span>
                                                    </p>
                                                    <p>
                                                        Median = 1/2 (X<span class="K"><sub>0</sub></span> + X<sub><span
                                                                class="K">0</span>+1</sub>)
                                                    </p>
                                                    <p>
                                                        1/2 (X<sub><span class="K">0</span></sub> + X<sub><span
                                                                class="K">0</span>+1</sub>)
                                                    </p>
                                                    <p>
                                                        1/2 (X<sub><span class="K">0</span></sub> + X<sub><span
                                                                class="Kplus1">0</span></sub>)
                                                    </p>
                                                    <p>
                                                        1/2 (<span class="XK">0</span> + <span class="XKplus1">0</span>)
                                                    </p>
                                                    <p>
                                                        1/2 (<span class="XKKplus1">0</span>)
                                                    </p>
                                                    <p class="font-weight-bold">
                                                        Med = <span class="MED">0</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="accordion" id="accordionExample">
                            <div class="card">
                                <div class="card-header" id="headingOne">
                                    <h5 class="mb-0">
                                        <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#dataBerkelompok" aria-expanded="false"
                                            aria-controls="dataBerkelompok">
                                            Data Berkelompok
                                        </button>
                                    </h5>
                                </div>

                                <div id="dataBerkelompok" class="collapse" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <table class="table table-bordered text-center">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">X</th>
                                                    <th scope="col" rowspan="2" class="align-middle">f</th>
                                                    <th scope="col" rowspan="2" class="align-middle">
                                                        <button class="btn btn-success btn-sm btn-add-row">
                                                            <i class="fa fa-plus"></i>
                                                        </button>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th>BB</th>
                                                    <th>BA</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="tr">
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td>
                                                        <i class="fa fa-times-circle x-row"></i>
                                                    </td>
                                                </tr>

                                                <tr class="d-none">
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td contenteditable="true"></td>
                                                    <td>
                                                        <i class="fa fa-times-circle x-row"></i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary btn-berkelompok">Hasil</button>
                                        <div class="jawaban-berkelompok d-none">
                                            <hr>
                                            <div class="alert alert-berkelompok alert-danger d-none" role="alert"></div>
                                            <div class="jawaban-benar-berkelompok text-center d-none">
                                                <p class="border border-primary p-2">
                                                    Median = L<sub>0</sub> + C ((n/2 - (&Sigma;fi)<sub>0</sub>) / fm)
                                                </p>
                                                <p>
                                                    n = <span class="n">40</span>;
                                                </p>
                                                <p>
                                                    n/2 = <span class="n">40</span>/2 = <span class="K">K</span>
                                                </p>
                                                <p>
                                                    L<sub>0</sub> = <span class="batas_bawah">BB</span> - 0.5 = <span
                                                        class="L_nol">L0</span>
                                                </p>
                                                <p>
                                                    (&Sigma;fi)<sub>0</sub> = <span class="sigmaFi_nol">0</span>
                                                </p>
                                                <p>
                                                    C = <span class="tepi_atas_kelas">TAK</span> - <span
                                                        class="tepi_bawah_kelas">TBK</span> =
                                                    <span class="C">C</span>
                                                </p>
                                                <p>
                                                    fm = <span class="fm">fm</span>
                                                </p>

                                                <p>
                                                    Median = <span class="L_nol">L0</span> + <span class="C">C</span>
                                                    ((<span class="n">n</span>/2) - <span
                                                        class="sigmaFi_nol">SigFi_0</span> ) / <span
                                                        class="fm">Fm</span>)
                                                </p>
                                                <p>
                                                    <span class="L_nol">L0</span> + <span class="C">C</span> ((<span
                                                        class="K">K</span> - <span class="sigmaFi_nol">0</span>)/ <span
                                                        class="fm">fm</span> )
                                                </p>
                                                <p>
                                                    <span class="L_nol">L0</span> + <span class="C">C</span> (<span
                                                        class="KsigmaFi_nol">KsigmaFi0</span>/ <span
                                                        class="fm">fm</span> )
                                                </p>
                                                <p>
                                                    <span class="L_nol">L0</span> + (<span
                                                        class="CKsigmaFi_nol">CKsigmaFi0</span>/ <span
                                                        class="fm">fm</span> )
                                                </p>
                                                <p>
                                                    <span class="L_nol">L0</span> + <span
                                                        class="CKsigmaFi_nolFm">CKsigmaFi0</span>
                                                </p>
                                                <p class="font-weight-bold">
                                                    Median = <span class="MED">Med</span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer>
                    <p class="text-center">Copy Right By Wentox</p>
                </footer>
            </div>
        </div>





        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="asset/jquery/jquery-3.3.1.js"></script>
        <script src="asset/bootstrap_4/js/popper.min.js"></script>
        <script src="asset/bootstrap_4/js/bootstrap.min.js"></script>
        <script src="asset/script.js"></script>
        <script src="asset/function_rumus.js"></script>
        <script>
            /**
            * RUMUS MEDIAN
            *
            *
            */

            // aksi data tak berkelompok
            // let $number = /^[0-9.]+$/;

            $('.btn-tak-berkelompok').click(function () {
                $('.jawaban-tak-berkelompok').removeClass('d-none');
                let $data = $('.input-data').val();
                $data = $data.trim();

                if (!is_data($data)) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text('Mohon masukan data!!!')
                    return;
                }
                $data = explode($data, ',');
                let $banyak_data = $data.length;
                if ($banyak_data <= 1) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text('Harap masukan lebih dari satu data!!!');
                    return;
                }

                let $data_valid = data_valid($data); //periksa kelayakan data
                if ($data_valid['error']) {
                    $('.jawaban-benar-tak-berkelompok').addClass('d-none');
                    $('.alert-tak-berkelompok').removeClass('d-none');
                    $('.alert-tak-berkelompok').text($data_valid['mesage']);
                    return;
                }

                $data = $data.sort(function (a, b) { return a - b }); //urutkan data secara ascesnding
                $('.data').text($data); //tampilkan data pada card data


                if ($banyak_data % 2 != 0) {
                    // ganjil
                    let $K = ($banyak_data - 1) / 2;
                    let $med = $K + 1;
                    let $MED = $med - 1;
                    $('.ganjil .n').text($banyak_data);
                    $('.ganjil .K').text($K);
                    $('.ganjil .med').text($med);
                    $('.ganjil .MED').text($data[$MED]);
                    $('.ganjil').removeClass('d-none');
                    $('.genap').addClass('d-none');
                }
                else {
                    // genap
                    let $K = $banyak_data / 2;
                    let $XKKplus1 = parseFloat($data[$K - 1]) + parseFloat($data[$K]);
                    let $MED = $XKKplus1 / 2;
                    $('.genap .n').text($banyak_data);
                    $('.genap .K').text($K);
                    $('.genap .Kplus1').text(($K + 1));
                    $('.genap .XK').text($data[$K - 1]);
                    $('.genap .XKplus1').text($data[$K]);
                    $('.genap .XKKplus1').text($XKKplus1);
                    $('.genap .MED').text($MED);
                    $('.genap').removeClass('d-none');
                    $('.ganjil').addClass('d-none');
                }
                $('.jawaban-benar-tak-berkelompok').removeClass('d-none');
                $('.alert-tak-berkelompok').addClass('d-none');
            });

            // tambah baris
            $('.btn-add-row').click(function () {
                tambah_baris($('.table'));
            });

            // hapus baris
            $('tr .x-row').on('click', function () {
                let tr = $(this);
                hapus_baris(tr);
            });

            // aksi data berkelompok

            $('.btn-berkelompok').click(function () {

                $('.jawaban-berkelompok').removeClass('d-none');


                $('.tr').removeClass('alert-success');
                // cek kelayakan data dan ambil data frekuensi
                let $f = new Array();
                let $n = 0; // Nilai n
                let $bool_baris = false;
                let $bool_angka = true;

                $('.table').find('tbody .tr').each(function (i, e) {
                    $bool_baris = true;
                    let $td = $(this).find('td');
                    let $batas_bawah = $td.eq(0).text();
                    let $batas_atas = $td.eq(1).text();
                    let $frekuensi_i = $td.eq(2).text();

                    $batas_bawah = $batas_bawah.trim();
                    $batas_atas = $batas_atas.trim();
                    $frekuensi_i = $frekuensi_i.trim();

                    if ($batas_bawah == "" || $batas_atas == "" || $frekuensi_i == "") {
                        $bool_angka = false;
                        return;
                    }

                    if (!$batas_bawah.match($number) || !$batas_atas.match($number) || !$frekuensi_i.match($number)) {
                        $bool_angka = false;
                        return;
                    }

                    $frekuensi_i = parseFloat($frekuensi_i);

                    $f[i] = $frekuensi_i;
                    $n = $n + $frekuensi_i;
                });


                if (!$bool_baris) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Silahkan tambah data');
                    return;
                }
                if (!$bool_angka) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Mohon masukan data dengan benar! Data tidak boleh kosong dan harus berupa angka!!!');
                    return;
                }
                if ($f.length <= 1) {
                    $('.jawaban-benar-berkelompok').addClass('d-none');
                    $('.alert-berkelompok').removeClass('d-none');
                    $('.alert-berkelompok').text('Mohon masukan lebih dari 1 data!!!');
                    return;
                }


                let $K = $n / 2; //nilai K
                let $indexFm = 0; //nilai index row dari kelas yang ada mediannya 
                let $sig_fi_nol = $f[0];
                for (let i = 0; i < $f.length; i++) {
                    if ($sig_fi_nol >= $K) {
                        $indexFm = i;
                        $sig_fi_nol = $sig_fi_nol - $f[i];
                        break;
                    }
                    else {
                        $sig_fi_nol = $sig_fi_nol + $f[i + 1];
                    }
                }


                let $batas_bawah;
                let $batas_atas
                // let $tepi_bawah_kelas = 0;
                // let $tepi_atas_kelas = 0;
                let $fm = 0; //Frekuensi yang ada mediannnya
                $('.table').find('tbody .tr').each(function (i, e) {
                    if (i == $indexFm) {
                        let $td = $(this).find('td');
                        $batas_bawah = $td.eq(0).text();
                        $batas_atas = $td.eq(1).text();
                        let $frekuensi_i = $td.eq(2).text();

                        $batas_bawah = parseFloat($batas_bawah.trim());
                        $batas_atas = parseFloat($batas_atas.trim());
                        $frekuensi_i = parseFloat($frekuensi_i.trim());
                        $fm = $frekuensi_i;
                        $(this).addClass('alert-success');
                    }
                });

                let $L_nol = $batas_bawah - 0.5;
                let $tepi_bawah_kelas = $L_nol;
                let $tepi_atas_kelas = $batas_atas + 0.5;
                let $C = $tepi_atas_kelas - $tepi_bawah_kelas; //nilai C
                let $KsigmaFi_nol = $K - $sig_fi_nol; // nilai dari K - (Sigma fi)0
                let $CKsigmaFi_nol = $C * $KsigmaFi_nol; // nilai dari C * (K - (Sigma fi)0)
                let $CKsigmaFi_nolFm = $CKsigmaFi_nol / $fm; // nilai dari (C * (K - (Sigma fi)0)) / fm
                let $MED = $L_nol + $CKsigmaFi_nolFm; //nilai dari L0 - ((C * (K - (Sigma fi)0)) / fm)

                $('.n').text($n);
                $('.K').text($K);
                $('.batas_bawah').text($batas_bawah);
                $('.L_nol').text($L_nol);
                $('.sigmaFi_nol').text($sig_fi_nol);
                $('.tepi_atas_kelas').text($tepi_atas_kelas);
                $('.tepi_bawah_kelas').text($tepi_bawah_kelas);
                $('.C').text($C);
                $('.fm').text($fm);
                $('.KsigmaFi_nol').text($KsigmaFi_nol);
                $('.CKsigmaFi_nol').text($CKsigmaFi_nol);
                $('.CKsigmaFi_nolFm').text($CKsigmaFi_nolFm);
                $('.MED').text($MED);

                $('.jawaban-benar-berkelompok').removeClass('d-none');
                $('.alert-berkelompok').addClass('d-none');

            });

            /*
            *Math.max.apply(Math,a);
            */
        </script>
</body>

</html>


<!-- 
    80,66,74,70,71,74,71,73,72,75,71,70,74,79,76,67,66,69,74,75,72,75,72,72,78,74,72,74,80,74,77,75,73,73,73,79,78,74,70,68
    
    
    
    79,49,48,74,81,98,87,80,
    80,84,90,70,91,93,82,78,
    70,71,92,38,56,81,74,73,
    68,72,85,51,65,93,83,86,
    90,35,83,73,74,43,86,88,
    92,93,76,71,90,72,67,75,
    80,91,61,72,97,91,88,81,
    70,74,99,95,80,59,71,77,
    63,60,83,82,60,67,89,63,
    76,63,88,70,66,88,79,75
    
    
    146,147,147,148,149,156,157,161,163,164,119,125,128,132,135,138,140,142,142,144
    
    146,147,147,148,149,150,150,152,153,154,
    156,157,158,161,163,164,165,168,173,176,
    119,125,126,128,132,135,135,135,136,138,
    138,140,140,142,142,144,144,145,145,146
    
    146,147,147,148,149,150,150,152,153,154,156,157,158,161,163,164,165,168,173,176,119,125,126,128,132,135,135,135,136,138,138,140,140,142,142,144,144,145,145,146
-->